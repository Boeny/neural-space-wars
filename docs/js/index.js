!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=i(2);t.Vector2=e.a.Vector2,e.a.ready([i(6),i(7)],.5)}.call(e,i(0))},function(t,e,i){"use strict";(function(t){var n=i(3),o=i(5);n.a.ready=function(e,i){if(e){for(var s={},r=0;r<e.length;r++){let t=e[r],i=Object.keys(t)[0];s[i.toLowerCase()]=new t[i]}t.onload=function(){var t=new n.a(i),e=[],r=new o.a(t);for(var a in s){let i=s[a];if(i.renderer=t,i.controls=r,i.Start&&i.Start(s),i.render||i.Update){let t;i.render&&!i.Update&&(t=i.render.bind(i)),!i.render&&i.Update&&(t=i.Update.bind(i)),i.render&&i.Update&&(t=(()=>{i.Update(),i.render()})),e.push(t),i.render&&i.render()}}r.Bind(s),function i(){requestAnimationFrame(i),t.clear();for(var n=0;n<e.length;n++)e[n]()}()}}},e.a=n.a}).call(e,i(0))},function(t,e,i){"use strict";(function(t){var n=i(4);class o{constructor(t){this.DOM=document.createElement("canvas"),document.body.appendChild(this.DOM),this.multiplier=t,this.setSize(),this.canvas=this.DOM.getContext("2d")}setSize(){this.DOM.width=this.multiplier*t.innerWidth,this.DOM.height=this.multiplier*t.innerHeight}get width(){return this.DOM.width}get height(){return this.DOM.height}addEvent(t,e){this.DOM.addEventListener(t,e)}createData(t,e){return this.canvas.createImageData(t||this.width,e||this.height)}renderData(t,e,i){this.canvas.putImageData(t,e||0,i||0)}clear(){this.renderData(this.createData())}getColorAtIndex(t,e){return{r:t.data[e]||0,g:t.data[e+1]||0,b:t.data[e+2]||0,a:t.data[e+3]||0}}setColorAtIndex(t,e,i){i=i||{},t.data[e]=void 0===i.r?0:i.r,t.data[e+1]=void 0===i.g?0:i.g,t.data[e+2]=void 0===i.b?0:i.b,t.data[e+3]=void 0===i.a?255:i.a}getColorAt(t,e,i){return this.getColorAtIndex(t,4*(e+i*this.DOM.width))}setColorAt(t,e,i,n){var o=4*(e+i*this.DOM.width);this.setColorAtIndex(t,o,n)}setColor(t){t&&("object"!=typeof t&&(t={fill:t,stroke:t}),t.stroke&&(this.canvas.strokeStyle=t.stroke),t.fill&&(this.canvas.fillStyle=t.fill))}render(){this.canvas.closePath(),this.canvas.stroke()}drawLine(t,e,i){i&&(this.canvas.lineWidth=i),this.canvas.beginPath(),this.canvas.moveTo(t.x+.5,t.y+.5),this.canvas.lineTo(e.x+.5,e.y+.5),this.render()}drawLineTo(t,e,i){e&&(this.init_point=e),this.drawLine(this.init_point,t,i),this.init_point=t}drawLines(t,e){if(t.length){this.init_point=t[0];for(var i=1;i<t.length;i++)this.drawLineTo(t[i],null,e)}}drawRect(t,e){this.canvas.beginPath(),this.canvas.fillRect(t.x+.5,t.y+.5,e.x+.5,e.y+.5),this.render()}drawPoly(t,e){t.push(t[0]),this.drawLines(t,e)}drawCircle(t,e,i){this.canvas.beginPath(),this.canvas.arc(t.x,t.y,e,0,2*Math.PI,!1),this.canvas.fill(),i&&(this.canvas.lineWidth=i),this.render()}drawText(t,e,i){i&&(this.canvas.font=i),this.canvas.fillText(t,e.x,e.y)}drawTexts(t){for(var e=0;e<t.length;e++){let i=t[e];this.drawText(i[0],i[1],i[2])}}}o.Vector2=n.a,e.a=o}).call(e,i(0))},function(t,e,i){"use strict";class n{constructor(t,e){this.x=t||0,this.y=e||0}static get zero(){return new n}static get up(){return new n(0,1)}static get down(){return new n(0,-1)}static get left(){return new n(-1,0)}static get right(){return new n(1,0)}clone(){return new n(this.x,this.y)}check(t){return t?t instanceof Array?new n(t[0],t[1]):"object"!=typeof t?new n(t,t):t:n.zero}add(t){return t=this.check(t),this.x+=t.x,this.y+=t.y,this}sub(t){return t=this.check(t),this.x-=t.x,this.y-=t.y,this}mult(t){return t=this.check(t),this.x*=t.x,this.y*=t.y,this}normalize(){return this.mult(1/this.length),this}equals(t){return this.x==t.x&&this.y==t.y}get sqrLength(){return this.x*this.x+this.y*this.y}get length(){return Math.sqrt(this.sqrLength)}toString(){return"("+this.x+", "+this.y+")"}rotate(t,e){e||(e=n.zero),this.sub(e);let i=this.length;return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.add(e),this}}e.a=n},function(t,e,i){"use strict";(function(t){t.merge=function(t,e){t||(t={});for(var i=Object.keys(e||{}),n=0;n<i.length;n++)t[i[n]]=e[i[n]];return t};var i={enabled:!1,enableKeys:!0,enableMouse:!0,enableTouch:!0,keys:{SPACE:32,UP:38,DOWN:40,LEFT:37,RIGHT:39,W:87,A:65,S:83,D:68,CTRL:!1},mouse:{LEFT:0,WHEEL:1,MIDDLE:1,RIGHT:2},handlers:{keydown:"onKeyDown",keyup:"onKeyUp",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick",wheel:"onMouseWheel",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove"}};class n{constructor(t){merge(this,i),this.renderer=t,document.addEventListener("pointerlockchange",t=>this.onPointerLockingChange(t),!1),document.addEventListener("mozpointerlockchange",t=>this.onPointerLockingChange(t),!1),document.addEventListener("webkitpointerlockchange",t=>this.onPointerLockingChange(t),!1),document.addEventListener("pointerlockerror",t=>this.onPointerLockingError(t),!1),document.addEventListener("mozpointerlockerror",t=>this.onPointerLockingError(t),!1),document.addEventListener("webkitpointerlockerror",t=>this.onPointerLockingError(t),!1)}Bind(e){for(var i in e){let t=e[i];for(let e in this.handlers){let i=this.handlers[e];t[i]&&document.body.addEventListener(e,e=>{this.enabled&&(this.keys.CTRL=e.ctrlKey,this.eventHandler(e,t,i))},!1)}}t.addEventListener("resize",()=>{this.renderer.setSize()},!1)}eventHandler(t,e,i){var n=e[i].bind(e);switch(t.preventDefault(),t.stopPropagation(),i){case"onKeyDown":case"onKeyUp":if(!this.enableKeys)return;return n(t.keyCode);case"onMouseMove":if(!this.enableMouse)return;return n(new THREE.Vector2(t.clientX,t.clientY),new THREE.Vector2(t.movementX||t.mozMovementX||t.webkitMovementX||0,t.movementY||t.mozMovementY||t.webkitMovementY||0));case"onMouseWheel":if(!this.enableMouse)return;return n(t.deltaY);case"onClick":case"onMouseUp":case"onMouseDown":if(!this.enableMouse)return;return n(t.button,new THREE.Vector2(t.clientX,t.clientY));case"onTouchStart":case"onTouchMove":case"onTouchEnd":if(!this.enableTouch)return;let e=new Array(t.touches.length);for(var o=0;o<e.length;o++)e[o]=new THREE.Vector2(t.touches[o].pageX,t.touches[o].pageY);return n(e);default:return n()}}onPointerLockingError(){}onPointerLockingChange(){}lockPointer(t){let e=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock;e&&e()}isPointerLocked(t){return document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t}}e.a=n}).call(e,i(0))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=Math.PI,o=n/2,s=2*n;class r{constructor(){this.radius=10,this.oldPos=null,this.oldAng=null,this.velocity=new Vector2,this.acceleration=.1,this.angularVelocity=n/90,this.points=[],this.offsets=[{position:[0,10]},{position:[-5,-10]},{position:[5,-10]}]}Start(t){this.position=new Vector2(this.renderer.width/2-100,this.renderer.height/2),this.rotation=-o,this.setPoints(),this.controls.enabled=!0}setPoints(){for(var t=0;t<this.offsets.length;t++){let e=this.offsets[t],i=e.position;e.rotation=Math.acos(i.x/i.length),e.x<0&&(e.rotation+=o),e.y<0&&(e.rotation=-e.rotation),this.points.push(this.getPoint(e))}}getPoint(t){let e=this.position.clone().add(t.position);return e.rotate(this.rotation+t.rotation,this.position),e}getPoints(){let t=null===this.oldPos||this.position.equals(this.oldPos),e=null===this.oldAng||this.rotation==this.oldAng;if(t&&e)return this.points;for(var i=0;i<this.offsets.length;i++)this.points[i]=this.getPoint(this.offsets[i]);return this.oldPos=this.position.clone(),this.oldAng=this.rotation,this.points}Update(){this.isDestroyed||this.position.add(this.velocity)}render(){this.isDestroyed||(this.renderer.setColor("white"),this.renderer.drawPoly(this.getPoints()))}destroy(){this.isDestroyed=!0}onKeyDown(t){switch(t){case this.controls.keys.UP:case this.controls.keys.W:this.velocity.add(Vector2.up.rotate(this.rotation).mult(this.acceleration));break;case this.controls.keys.LEFT:case this.controls.keys.A:this.rotation-=this.angularVelocity,this.rotation<-n&&(this.rotation+=s);break;case this.controls.keys.RIGHT:case this.controls.keys.D:this.rotation+=this.angularVelocity,this.rotation>n&&(this.rotation-=s)}}}e.Ship=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(){this.radius=10,this.mass=1,this.gravity=!0}Start(t){this.position=new Vector2(this.renderer.width/2,this.renderer.height/2),this.objects=[];for(var e in t)t[e].velocity&&this.objects.push(t[e])}Update(){if(this.gravity){for(var t,e,i,n,o,s,r=[],a=0;a<this.objects.length;a++)t=this.objects[a],(n=(i=(e=this.position.clone().sub(t.position)).length)-(this.radius+(t.radius||0)))<=0?(t.destroy(),r.push(a)):(n-(s=(o=e.clone().normalize()).clone().mult(this.mass/i)).length<=0&&(s=o.clone().mult(i-this.radius)),t.velocity.add(s));for(a=0;a<r.length;a++)this.objects.splice(r[a],1)}}render(){this.renderer.setColor("white"),this.renderer.drawCircle(this.position,this.radius)}}e.Star=n}]);